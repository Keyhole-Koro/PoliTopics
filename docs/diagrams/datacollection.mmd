flowchart LR
  %% ========== Data Collection ==========
  subgraph DC[PoliTopicsDataCollection / Ingestion Service]
    IngestSchedule["EventBridge (Cron)<br/>IngestSchedule"]
    IngestLambda["AWS Lambda (Node.js)<br/>IngestLambda"]
    PromptBucket[(Amazon S3<br/>PromptBucket)]
    TaskTable[(DynamoDB<br/>TaskTable: llm_task_table)]
  end

  NationalDietAPI["External<br/>NationalDietAPI<br/>(国会議事録API)"]

  IngestSchedule -->|Triggers| IngestLambda
  IngestLambda -->|Fetches Data| NationalDietAPI
  IngestLambda -->|Stores Raw Text| PromptBucket
  IngestLambda -->|Enqueues Task| TaskTable
